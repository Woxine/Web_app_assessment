{% extends "base.html" %}

{% block title %}èœå“åˆ—è¡¨ - Farmer's Delight Wiki{% endblock %}

{% block content %}
<section>
    <header>
        <h1>ğŸ½ï¸ èœå“åˆ—è¡¨</h1>
        <p>æ¢ç´¢ Farmer's Delight ä¸­æ‰€æœ‰ç¾å‘³çš„èœå“ï¼Œä»ç®€å•çš„æ²™æ‹‰åˆ°å¤æ‚çš„æ–™ç†ï¼Œåº”æœ‰å°½æœ‰ï¼</p>
    </header>

    {% if meals %}
        <div class="meal-grid">
            {% for meal in meals %}
            <article class="meal-card">
                {% if meal.image_url %}
                    <img src="{{ meal.image_url }}" alt="{{ meal.name }}" loading="lazy">
                {% else %}
                    <div class="placeholder-image">
                        <span>ğŸ½ï¸</span>
                        <p>æš‚æ— å›¾ç‰‡</p>
                    </div>
                {% endif %}
                <h3><a href="{{ url_for('main.meal_detail', id=meal.id) }}">{{ meal.name }}</a></h3>
                <p class="meal-stats">
                    <span>ğŸ æ¢å¤é¥±é£Ÿåº¦: {{ meal.hunger_restored }}</span>
                    <span>âš¡ é¥±å’Œåº¦: {{ meal.saturation }}</span>
                </p>
                {% if meal.description %}
                    <p class="meal-description">{{ meal.description[:100] }}{% if meal.description|length > 100 %}...{% endif %}</p>
                {% endif %}
            </article>
            {% endfor %}
        </div>

        <nav class="pagination" role="navigation" aria-label="åˆ†é¡µå¯¼èˆª">
            {% if pagination.has_prev %}
                <a href="{{ url_for('main.meals', page=pagination.prev_num) }}" aria-label="ä¸Šä¸€é¡µ">â¬…ï¸ ä¸Šä¸€é¡µ</a>
            {% endif %}

            <span class="page-info">
                ğŸ“„ ç¬¬ {{ pagination.page }} é¡µï¼Œå…± {{ pagination.pages }} é¡µ
            </span>

            {% if pagination.has_next %}
                <a href="{{ url_for('main.meals', page=pagination.next_num) }}" aria-label="ä¸‹ä¸€é¡µ">ä¸‹ä¸€é¡µ â¡ï¸</a>
            {% endif %}
        </nav>
    {% else %}
        <div class="no-results">
            <h3>ğŸ½ï¸ æš‚æ— èœå“æ•°æ®</h3>
            <p>èœå“æ•°æ®æ­£åœ¨åŠ è½½ä¸­ï¼Œè¯·ç¨åå†è¯•ï¼</p>
        </div>
    {% endif %}
</section>
{% endblock %}

